#%Module 1.0
#
#  MVAPICH2-2.2 module for use with 'environment-modules' package:
# 
# modulefiles/

proc ModulesHelp { } {
	global mvapich_version
	global MPI_DIR
	puts stderr "\t Use $MPI_DIR as your MPI"
	puts stderr "\n\tVersion $mvapich_version\n"
}
module-whatis   "MVAPICH2-2.22 compile with pgi 18.4"

set		mvapich_version 2.2
set		MPI_DIR		/opt/mvapich2-2.2
conflict	mpich_GNU/3.2.0/4.8.5  mvapich_GNU/2.3.rc/4.8.5  openmpi_GNU/3.0.0/4.8.5 openmpi_GNU/1.10.7/4.8.5 openmpi_pgi/2.1.2/2018 mpich_pgi/3.2.1/2018 mvapich_intel_cuda/2.3.rc/2015_9.2
prereq          pgi/18.4_cuda9.1

#module load 

prepend-path	PATH			$MPI_DIR/bin
prepend-path	INCLUDE			$MPI_DIR/include
prepend-path	LD_LIBRARY_PATH		$MPI_DIR/lib
prepend-path	MANPATH			$MPI_DIR/share/man/

setenv		MPI_HOME		$MPI_DIR
setenv		MPI_BIN			$MPI_DIR/bin
setenv		MPI_INCLUDE		$MPI_DIR/include
setenv		MPI_LIB			$MPI_DIR/lib
setenv		MPI_MAN			$MPI_DIR/share/man/

